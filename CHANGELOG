Changelog

[v30.8] - 2025-05-20 (Stable Release)

🐛 Bug Fixes (錯誤修復)

修復報表下載功能 (Fixed Report Download)

問題: 點擊 "Download Picking List" 或 "Download Assembly Guide" 時無反應或報錯。

原因: 用於定義報表樣式的全域變數 CSS_STRING 在之前的代碼優化過程中意外遺失，導致 ReferenceError。

修正: 已補回完整的 CSS_STRING 定義，現在所有 HTML 報表皆可正常生成與下載。

修復應用程式啟動崩潰 (Fixed App Initialization Crash)

問題: 在部分瀏覽器環境下，網頁載入時出現白畫面，控制台顯示 ReferenceError: App is not defined。

原因: DEFAULT_AUTOCLAVE_PATTERNS 的初始化邏輯中包含直接執行的 .map() 函數。若資料結構有微小異常，會導致 JavaScript 在解析階段中斷，從而阻止了 React App 組件的定義。

修正:

將預設資料變數改為純靜態 JSON 陣列 (_RAW 數據)，移除所有啟動時的運算。

將資料清洗與標準化邏輯 (Normalization Logic) 移至 App 組件的 useEffect 中延遲執行。

這確保了應用程式能始終成功掛載 (Mount)，即使資料有誤也能優雅地處理，而非直接崩潰。

⚡ Performance & Stability (效能與穩定性)

全域錯誤攔截 (Global Error Handler)

新增了 window.onerror 監聽器。若發生未預期的錯誤，系統現在會彈出視窗顯示具體的錯誤訊息與行號，而非靜默失敗，大幅提升除錯效率。

🔄 Unchanged Core Features (保留核心功能)

演算法: 保留了 v30.0 引入的 回溯搜尋演算法 (Backtracking Algorithm)，確保計算出最少的滅菌循環次數。

資料完整性: 保留了 v30.6 的嚴格命名對齊修正（如修復 3/8” Silicone 的空格問題）。

功能: 保留了「Include Stock (包含庫存品)」選項與手動清單防遺失機制。

此版本建議作為穩定版 (Stable Build) 部署。
